(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7095:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/xm",function(){return t(5467)}])},5467:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(5893),o=t(4051),u=t.n(o),c=t(7294),i=t(2125);function a(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function f(){var e=a([""]);return f=function(){return e},e}function s(){var e=a(["\n    ","\n"]);return s=function(){return e},e}var l=t(7109),p=t(6928),d=t(455),v=t(202),m=t.n(v);function h(e,n,t,r,o,u,c){try{var i=e[u](c),a=i.value}catch(f){return void t(f)}i.done?n(a):Promise.resolve(a).then(r,o)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function c(e){h(u,r,o,c,i,"next",e)}function i(e){h(u,r,o,c,i,"throw",e)}c(void 0)}))}}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function g(){var e,n,t=(e=["\n    ","\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return g=function(){return t},t}var y=(0,i.ZP)("div").withConfig({componentId:"sc-6a50c090-0"})(g(),(function(e){return(0,i.iv)(s(),(0,i.iv)(f()))})),j=function(e){var n=e.xmID,t=w(e,["xmID"]),o=(0,p._f)().earThereumContract,i=(0,c.useState)(),a=i[0],f=i[1],s=(0,c.useState)(),v=s[0],h=s[1],g=(0,c.useState)(),j=g[0],O=g[1],E=a?(0,l.iD)(a):null,P=E?E.moduleName:"";console.log("Name: '".concat(P,"'. hasName: ").concat(""!==P," len: ").concat(P.length)),(0,c.useEffect)((function(){if(o&&!a){var e=function(){var e=b(u().mark((function e(n){var t,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getXM("0x"+n);case 2:t=e.sent,r=(0,d.Pw)(t),c=(0,l.Qg)(r),f(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e(n)}}),[o,a,n]),(0,c.useEffect)((function(){if(E&&o&&a&&!v){var e=function(){var e=b(u().mark((function e(n){var t,r,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getSampleDatas(n.map((function(e){return"0x"+e})));case 2:if((t=e.sent).length==n.length){e.next=5;break}throw"Fetched samples list and IDs list length mismatch";case 5:r={},n.forEach((function(e,n){r[e]=(0,d.Pw)(t[n])})),console.log("SAMPLES:",t),console.log(r),c=(0,l.Nz)(r),h(c);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e(E.sampleIDs.filter((function(e,n,t){return t.indexOf(e)===n})))}}),[E,o,a,v]),(0,c.useEffect)((function(){if(a&&v&&!j){var e=(0,l.e7)(a,v);O(e)}}),[a,v,j]);return(0,r.jsxs)(y,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({},t,{children:[(0,r.jsxs)("div",{children:["XM ID: ",n]}),P&&(0,r.jsxs)("div",{children:["Name: ",P]}),v&&j&&(0,r.jsx)("button",{onClick:function(){if(j&&E){var e=P?m()(E.moduleName)+".xm":n+".xm";!function(e,n){var t=new Blob([e],{type:"application/octet-stream"}),r=URL.createObjectURL(t),o=document.createElement("a");o.style.display="none",o.download=n,o.href=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}(j,e)}},children:"download"})]}))},O=t(2001),E=t(9008),P=t.n(E),I=t(1163),_=function(){var e,n=(null===(e=(0,I.useRouter)().query.id)||void 0===e?void 0:e.toString().replace("0x","").toLowerCase())||"";return(0,r.jsxs)("div",{children:[(0,r.jsxs)(P(),{children:[(0,r.jsx)("title",{children:"Immutatune: XM Viewer"}),(0,r.jsx)("meta",{property:"og:title",content:"Immutatune: XM Viewer"},"title")]}),(0,r.jsx)(O.A,{children:n&&(0,r.jsx)(j,{xmID:n})})]})}},202:function(e,n,t){"use strict";var r=t(3700),o=/[\/\?<>\\:\*\|"]/g,u=/[\x00-\x1f\x80-\x9f]/g,c=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,a=/[\. ]+$/;function f(e,n){if("string"!==typeof e)throw new Error("Input must be string");var t=e.replace(o,n).replace(u,n).replace(c,n).replace(i,n).replace(a,n);return r(t,255)}e.exports=function(e,n){var t=n&&n.replacement||"",r=f(e,t);return""===t?r:f(r,"")}},3700:function(e,n,t){"use strict";var r=t(1156),o=t(793);e.exports=r.bind(null,o)},1156:function(e){"use strict";function n(e){return e>=55296&&e<=56319}function t(e){return e>=56320&&e<=57343}e.exports=function(e,r,o){if("string"!==typeof r)throw new Error("Input must be string");for(var u,c,i=r.length,a=0,f=0;f<i;f+=1){if(u=r.charCodeAt(f),c=r[f],n(u)&&t(r.charCodeAt(f+1))&&(c+=r[f+=1]),(a+=e(c))===o)return r.slice(0,f+1);if(a>o)return r.slice(0,f-c.length+1)}return r}},793:function(e){"use strict";function n(e){return e>=55296&&e<=56319}function t(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!==typeof e)throw new Error("Input must be string");for(var r=e.length,o=0,u=null,c=null,i=0;i<r;i++)t(u=e.charCodeAt(i))?null!=c&&n(c)?o+=1:o+=3:u<=127?o+=1:u>=128&&u<=2047?o+=2:u>=2048&&u<=65535&&(o+=3),c=u;return o}}},function(e){e.O(0,[655,424,565,774,888,179],(function(){return n=7095,e(e.s=n);var n}));var n=e.O();_N_E=n}]);